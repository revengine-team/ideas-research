## Кратко

Скиллозависимый FPS про самурая.

Вдохновители:
- Metal Gear Rising: Revengeance
- Overwatch (Genji)
- Ultrakill
- Doom (2016), Doom: Eternal

## Игровой мир

`todo` *Место действия, места интереса, обзорные вышки. Будет формироваться в контексте возможностей движка в статике.*

## Основной геймплей

### Кор механики

Основные механики, от которых должно сложиться представление о геймплее:

- **Stagger state**. При нанесении большого количества урона или при нанесении умеренного по слабой зоне (Weak Point, WP) враги на некоторое время переходит в Stagger state. В этом состоянии враги фатально уязвимы к ударам [катаны](#катана) игрока, при этом на них накладывается *стан* (неспособность двигаться и использовать активные умения).
- **Weak Point**. У всех врагов есть специальные области, при нанесении относительно небольшого урона из [Виндикатора](#виндикатор), они переходят в **Stagger state**. Эти места должны выделяться особым эффектом.

Важно отметить, что в связи с высокой сложностью реализации, *отсутствует вертикальность*. Подробнее об этом в разделе [локации](#локации).


### Игрок

Геймплейный цикл типичный для арена-шутеров.

- **Encounter**. Собственно драка на арене, пока не будет выполнено определённое условие. Как правило это пока не закончатся враги. В нашем случае только это.
- **Interlude**. Прогулка до следующего энкаунтера. Разбавляется паркуром, визуальными красивостями и **точками интереса** (Point of Interest, PoE). Можно добавить немного слабых врагов.

С точки зрения стратегии ведения боя предполагается, что игрок должен вести себя умеренно агрессивно.

1. Застаггерить врага. Сделать это можно с помощью [Виндикатора](#виндикатор), дальнобойного оружия (о нём далее).
2. Ударить врага [катаной](#катана), чтобы получить максимальное выигрыш от стаггера.

У игрока есть несколько способов избежать урона.
1. Маневрирование посредством простого перемещения (см. [Паркур](#паркур)).
2. **Паррирование** прямого урона врагов.
3. **Дефлект** проджектайлов [кинжалом](#кинжал).

#### Паркур

Паркур не в смысле крутых движений, а вообще любое перемещение.

Оно типичное для шутеров:
- WASD.
- Прыжок.
- Дэш (см. [Катана](#катана)).

Не смотря на это, есть особенности, которые хочется обговорить заранее. В игры часто добавляют такие вещи как стрейф, особая кинематика в воздухе и пр. У нас ничего такого не планируется. Мы не будем заигрывать с большим количеством параметров управления.

Условный подкат уже добавляет много мороки из-за сложного перехода в состояние "в воздухе" и необходимости интеграции его в геймплей.

Максимум, что мы можем сделать, это, двойной прыжок для увеличения контроля над состоянием "в воздухе", в котором может возникнуть потребность из-за дэша.

#### Катана

Катана, чтобы устроить мясо.

Любой удар катаны гарантированно уничтожает врага в стаггере.

У Катаны есть два режима.
- **Focus strike**. По нажатию на кнопку (например, `Q`), игрок входит в **фокус**, замедляется время, и по нажатию на `ЛКМ`/`ПКМ` игрок нанесёт *мощный* удар по горизонтали/вертикали (в большой области). Как режим резни в MGR, но только на один удар. 
- **Dash**. Стремительный рывок по направлению взгляда игрока, наносящий небольшой урон. Имеет небольшой кулдаун, который восстанавливается после убийства врага (даже во время **дэша**!). Как Гензи в Овервотче, в общем.

> В фокусе замедление является ресурсом, расходующееся за несколько секунд. Восстанавливается посредством убийства врагов.

> Было бы круто уничтожать огромные штуки через фокус-удар.


#### Виндикатор

Револьвер, пистолет-пулемёт, подстволка, и всё в одной пушке.

| Свойство | Автоматический огонь | Одиночный огонь | Гранатомёт |
| --- | --- | --- | --- |
| Назначение | Большие враги, стрельба в упор | Прицельная стрельба по **WP** | Толпа |
| Тип снаряда | Хитскан | Хитскан | Проджектайл |
| Урон | Низкий | Средний | Высокий, урон по области |
| Скорострельность | Высокая | Средняя | Низкая |
| Точность | Низкая | Высокая | Средняя (снаряд подвержен гравитации, но летит точно по направлению) |
| Управление | Зажать `ЛКМ` | Войти в прицел на `ПКМ`, стрелять на `ЛКМ` | `E` |
| Особенности | - | Ощутимое, но низкое время входа в прицел | Урезанный урон по себе, чтобы предотвратить стрельбу в упор |

В целом, весь смысл **Виндикатора** в том, чтобы вводить врагов в стаггер, либо уничтожать *неудобных* врагов.


#### Кинжал

Оружие ближнего боя, наносящее небольшой урон в небольшой области. Прeдназначено для **добивания** врагов, **паррирования** и **дефлекта** вражеских проджектайлов. Всё на одну кнопку, например, `C`, но можно и на боковую клавишу мыши.

- **Finisher**. Как такового его нет, просто нанесение врагам урона, причём в случае стагера с особым эффектом.
- **Parry**. Можно отбить удар в ближнем бою. Идеальное попадание в тайминг стаггерит врагов. Сопровождается звуко-визульным эффектом. 
- **Deflect**. Можно отразить вражеский проджектайл по направлению взгляда игрока.

### Враги

У врагов можно выделить особые умения. Их можно организовать в системы.
- Ближний бой
- Дальний бой
- Полёт
- Блокирование урона
- Парирование
- Уклонение (додж)

У врагов есть свойства:
- Задаваемые напрямую в коде
	- Здоровье
	- Скорость перемещения
	- Расположение и другие характеристики WP
	- Урон
- Задаваемые опосредованно
	- Размер
	- Внешний вид

Враги это автомат состояний, имеющий свой собственный AI (для поиска пути) и групповой (Файт Стритерс, aka Fight Director).

Файт Стритерс нужен для:

- нам необходимо разбивать врагов на группы таким образом, чтобы игроку было удобно проводить комбо-дэши;
- врагам необходимо синергировать между собой для компенсации слабых сторон;
- на игрока враги должны наваливаться волнами, чтобы ему удобно было с ними расправляться (каждая волна проверяет отдельные умения игрока).

*`todo` Типы, способы воздействия на игрока, оптимальная стратегия ведения боя и т.д.*

### Локации

Все локации условно делятся по своему назначению, на энкаунтеры и интерлюдии. Думаю, трёх-четырёх энкаунтеров + энкаунтер с боссом это прям идеальный вариант в лучшем раскладе.

#### Интерлюдии

Основное предназначение интерлюдий в том, чтобы игрок снимать с игрока напряжение после энкаунтера. Но есть и другие.

- **Контролирование напряжения**. После энкаунтера должна быть умеренно раслабляющая секция. Это она и есть.
- **Ощущение прогрессии**. Это достигается несколькими способами.
	- Арт-дизайн между локациями должен постепенно изменяться. 
	- В зоне видимости игрока находится *глобальные и локальные точки интереса*, к которым он постепенно приближается.
- **Формирование ожидания**. Игрок должен чего-то ожидать от следующего энкаунтера. Это ожидание в основном формируется в интерлюдии. Так, например, можно дать игроку понять, что следующая секция будет с боссом.
- **Технодемо**. В нашем случае мы можем показать возможности нашего движка в статике. Можем показать красивую картинку на *обзорном вышке*.

#### Энкаунтеры

Энкаунтеры это арены для драки с большим количеством врагов.

В нашем случае дизайн арен должен формироваться с учётом таких особенностей:

- Игрок не должен быть загнан в угол.
- Враги должны иметь как минимум два пути к игроку.
- Нельзя допускать высокой степени вертикальности с такой примитивной системой [паркура](#паркур), как наша.

Это стоит держать в голове при формировании арены:

- Игрок будет стремиться занять хайграунд. Поэтому там стоит разместить сильных врагов.
- Игрок будет стремиться к разбиению врагов на группы, формируя их по сходной степени опасности. Нужно расставить ограды так, чтобы у него это легко получалось.
- Игрок будет держаться около некоего "центра" арены, из которого можно быстро добраться до любой точки и при этом держать во внимании как можно больше врагов. Следует выделить этот центр при проектировании арены.

*`todo` Их ещё предстоит спроектировать...*

## UX

*`todo` gui, vfx, звуки и музыка*

## Технический бюджет

*`todo` Количество полигонов, физических объектов, коллизий, источников света, фичи и т.д.*